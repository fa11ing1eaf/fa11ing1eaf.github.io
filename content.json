{"meta":{"title":"fa11ing1eaf-blog","subtitle":null,"description":null,"author":"fa11ing1eaf","url":"http://yoursite.com"},"pages":[],"posts":[{"title":"linux_open_coredump","slug":"linux-open-coredump","date":"2017-08-08T02:25:35.000Z","updated":"2017-08-08T02:26:34.000Z","comments":true,"path":"2017/08/08/linux-open-coredump/","link":"","permalink":"http://yoursite.com/2017/08/08/linux-open-coredump/","excerpt":"","text":"ulimit -c unlimited // 可以加入 /etc/profileulimit -c /etc/sysctl.confkernel.core_pattern = /tmp/corefile/core.%e.%t 3.sysctl -p","categories":[],"tags":[]},{"title":"ssh_ProxyCommand","slug":"ssh-proxy","date":"2017-07-30T15:01:11.000Z","updated":"2017-07-30T15:01:41.000Z","comments":true,"path":"2017/07/30/ssh-proxy/","link":"","permalink":"http://yoursite.com/2017/07/30/ssh-proxy/","excerpt":"","text":"配置ssh别名vi ~/.ssh/configHost dxx.sxx-bastion hostname 54.65.xx.2xx Port 18330 User ec2-userHost dxx.sxx-web1 hostname 10.0.x.xx ProxyCommand ssh dxx.sxx-bastion -W %h:%p User ubuntu 保存后,进行登录验证. ps:%h 表示 hostname%p 表示 port","categories":[],"tags":[]},{"title":"mongodb note","slug":"mongodb-note","date":"2017-07-29T04:22:49.000Z","updated":"2017-07-29T08:58:43.000Z","comments":true,"path":"2017/07/29/mongodb-note/","link":"","permalink":"http://yoursite.com/2017/07/29/mongodb-note/","excerpt":"","text":"增删查改1234567891011121314151617增：&gt; db.person.insert(&#123;&quot;name&quot;:&quot;jack&quot;,&quot;age&quot;:20&#125;)WriteResult(&#123; &quot;nInserted&quot; : 1 &#125;)查：&gt; db.person.find(&#123;&quot;name&quot;:&quot;jack&quot;&#125;)&#123; &quot;_id&quot; : ObjectId(&quot;597c0b47e54659e687ffc961&quot;), &quot;name&quot; : &quot;jack&quot;, &quot;age&quot; : 20 &#125;改：&gt; db.person.update(&#123;&quot;name&quot;:&quot;jae&quot;&#125;,&#123;&quot;name&quot;:&quot;jae&quot;,&quot;age&quot;:31&#125;)WriteResult(&#123; &quot;nMatched&quot; : 1, &quot;nUpserted&quot; : 0, &quot;nModified&quot; : 1 &#125;)删除：&gt; db.person.remove(&#123;&quot;name&quot;:&quot;joe&quot;&#125;)WriteResult(&#123; &quot;nRemoved&quot; : 1 &#125;) 2.细说增删查改 mongodb支持js语法，很方便123456789101112131415161718&gt; var single=&#123;&quot;name&quot;:&quot;jack&quot;,&quot;password&quot;:&quot;12345&quot;,&quot;age&quot;:20&#125;&gt;&gt; db.user.insert(single)WriteResult(&#123; &quot;nInserted&quot; : 1 &#125;)&gt;&gt;&gt; single.name = &quot;joe&quot;joe&gt; single.age = 2525&gt;&gt; db.user.insert(single)WriteResult(&#123; &quot;nInserted&quot; : 1 &#125;)&gt;&gt; db.user.find()&#123; &quot;_id&quot; : ObjectId(&quot;597c0f9fe54659e687ffc968&quot;), &quot;name&quot; : &quot;jack&quot;, &quot;password&quot; : &quot;12345&quot;, &quot;age&quot; : 20 &#125;&#123; &quot;_id&quot; : ObjectId(&quot;597c0fbce54659e687ffc969&quot;), &quot;name&quot; : &quot;joe&quot;, &quot;password&quot; : &quot;12345&quot;, &quot;age&quot; : 25 &#125;&gt; 查找:123456789&gt; // find age &gt; 22&gt; db.user.find(&#123;&quot;age&quot;:&#123;$gt:22&#125;&#125;)&#123; &quot;_id&quot; : ObjectId(&quot;597c0fbce54659e687ffc969&quot;), &quot;name&quot; : &quot;joe&quot;, &quot;password&quot; : &quot;12345&quot;, &quot;age&quot; : 25 &#125;&gt; // $gt $gte $lt $lte $ne &lt;blank&gt;&gt;&gt; // find name=&apos;jack&apos;&gt;&gt; db.user.find(&#123;$where:function()&#123; return this.name==&quot;joe&quot; &#125;&#125;)&#123; &quot;_id&quot; : ObjectId(&quot;597c0fbce54659e687ffc969&quot;), &quot;name&quot; : &quot;joe&quot;, &quot;password&quot; : &quot;12345&quot;, &quot;age&quot; : 25 &#125; 更新：$inc,$set更新123456789101112131415161718&gt; db.user.find()&#123; &quot;_id&quot; : ObjectId(&quot;597c0f9fe54659e687ffc968&quot;), &quot;name&quot; : &quot;jack&quot;, &quot;password&quot; : &quot;12345&quot;, &quot;age&quot; : 20 &#125;&#123; &quot;_id&quot; : ObjectId(&quot;597c0fbce54659e687ffc969&quot;), &quot;name&quot; : &quot;joe&quot;, &quot;password&quot; : &quot;12345&quot;, &quot;age&quot; : 25 &#125;&gt;&gt; db.user.update(&#123;&quot;name&quot;:&quot;jack&quot;&#125;,&#123;$inc:&#123;&quot;age&quot;:30&#125;&#125;)WriteResult(&#123; &quot;nMatched&quot; : 1, &quot;nUpserted&quot; : 0, &quot;nModified&quot; : 1 &#125;)&gt;&gt; db.user.find()&#123; &quot;_id&quot; : ObjectId(&quot;597c0f9fe54659e687ffc968&quot;), &quot;name&quot; : &quot;jack&quot;, &quot;password&quot; : &quot;12345&quot;, &quot;age&quot; : 50 &#125;&#123; &quot;_id&quot; : ObjectId(&quot;597c0fbce54659e687ffc969&quot;), &quot;name&quot; : &quot;joe&quot;, &quot;password&quot; : &quot;12345&quot;, &quot;age&quot; : 25 &#125;&gt;&gt; db.user.update(&#123;&quot;name&quot;:&quot;jack&quot;&#125;,&#123;$set:&#123;&quot;age&quot;:10&#125;&#125;)WriteResult(&#123; &quot;nMatched&quot; : 1, &quot;nUpserted&quot; : 0, &quot;nModified&quot; : 1 &#125;)&gt;&gt; db.user.find()&#123; &quot;_id&quot; : ObjectId(&quot;597c0f9fe54659e687ffc968&quot;), &quot;name&quot; : &quot;jack&quot;, &quot;password&quot; : &quot;12345&quot;, &quot;age&quot; : 10 &#125;&#123; &quot;_id&quot; : ObjectId(&quot;597c0fbce54659e687ffc969&quot;), &quot;name&quot; : &quot;joe&quot;, &quot;password&quot; : &quot;12345&quot;, &quot;age&quot; : 25 &#125;&gt; upsert:如果没有查到，就在数据库里面增加一条，使用方法，在第三个参数设置为true.123456789101112&gt; db.user.update(&#123;&quot;name&quot;:&quot;bbb&quot;&#125;,&#123;&quot;age&quot;:66&#125;,true)WriteResult(&#123; &quot;nMatched&quot; : 0, &quot;nUpserted&quot; : 1, &quot;nModified&quot; : 0, &quot;_id&quot; : ObjectId(&quot;597c12c9a7c4da4389a0bbba&quot;)&#125;)&gt;&gt; db.user.find()&#123; &quot;_id&quot; : ObjectId(&quot;597c0f9fe54659e687ffc968&quot;), &quot;name&quot; : &quot;jack&quot;, &quot;password&quot; : &quot;12345&quot;, &quot;age&quot; : 10 &#125;&#123; &quot;_id&quot; : ObjectId(&quot;597c0fbce54659e687ffc969&quot;), &quot;name&quot; : &quot;joe&quot;, &quot;password&quot; : &quot;12345&quot;, &quot;age&quot; : 25 &#125;&#123; &quot;_id&quot; : ObjectId(&quot;597c12c9a7c4da4389a0bbba&quot;), &quot;age&quot; : 66 &#125; 3.细说高级操作 聚合count,distinct,group,mapReduce 1234567891011121314151617181920212223242526272829303132333435363738394041424344&gt; db.person.find()&#123; &quot;_id&quot; : ObjectId(&quot;597c21c32e630ac58eab778e&quot;), &quot;name&quot; : &quot;aaa&quot;, &quot;age&quot; : 14 &#125;&#123; &quot;_id&quot; : ObjectId(&quot;597c21c42e630ac58eab778f&quot;), &quot;name&quot; : &quot;aaa&quot;, &quot;age&quot; : 14 &#125;&#123; &quot;_id&quot; : ObjectId(&quot;597c21c42e630ac58eab7790&quot;), &quot;name&quot; : &quot;aaa&quot;, &quot;age&quot; : 14 &#125;&#123; &quot;_id&quot; : ObjectId(&quot;597c2239c45972bc584543fc&quot;), &quot;name&quot; : &quot;gob&quot;, &quot;age&quot; : 15 &#125;&#123; &quot;_id&quot; : ObjectId(&quot;597c2242c45972bc584543fd&quot;), &quot;name&quot; : &quot;gob2&quot;, &quot;age&quot; : 15 &#125;&#123; &quot;_id&quot; : ObjectId(&quot;597c224bc45972bc584543fe&quot;), &quot;name&quot; : &quot;gob3&quot;, &quot;age&quot; : 17 &#125;&gt;&gt; db.person.distinct(&quot;age&quot;)[ 14, 15, 17 ]&gt;&gt;&gt; db.person.group(&#123;... &quot;key&quot;:&#123;&quot;age&quot;:true&#125;,... &quot;initial&quot;:&#123;&quot;person&quot;:[]&#125;,... &quot;reduce&quot;:function(cur,prev)&#123;... prev.person.push(cur.name);... &#125;... &#125;... )[ &#123; &quot;age&quot; : 14, &quot;person&quot; : [ &quot;aaa&quot;, &quot;aaa&quot;, &quot;aaa&quot; ] &#125;, &#123; &quot;age&quot; : 15, &quot;person&quot; : [ &quot;gob&quot;, &quot;gob2&quot; ] &#125;, &#123; &quot;age&quot; : 17, &quot;person&quot; : [ &quot;gob3&quot; ] &#125;]&gt;","categories":[],"tags":[]},{"title":"mysql_5_7_19_udpate_password","slug":"mysql-5-7-19-udpate-password","date":"2017-07-22T14:30:26.000Z","updated":"2017-07-22T14:32:41.000Z","comments":true,"path":"2017/07/22/mysql-5-7-19-udpate-password/","link":"","permalink":"http://yoursite.com/2017/07/22/mysql-5-7-19-udpate-password/","excerpt":"","text":"mysql 重置密码 my.cnf 中添加 skip-grant-table或者mysqld_safe –skip-grant-tables &amp; 这个时候就可以进入mysql了 123456789use mysql旧版本update user set password=PASSWORD(&quot;newpass&quot;) where user=&quot;root&quot;;从5.7开始update user set authentication_string=PASSWORD(&quot;123456&quot;) where user=&quot;root&quot;;flush privileges; 更新权限 重启mysql即可","categories":[],"tags":[]},{"title":"mysql_init","slug":"mysql-init","date":"2017-07-21T17:21:15.000Z","updated":"2017-07-21T17:25:48.000Z","comments":true,"path":"2017/07/22/mysql-init/","link":"","permalink":"http://yoursite.com/2017/07/22/mysql-init/","excerpt":"","text":"12345678910wget https://dev.mysql.com/get/mysql57-community-release-el7-11.noarch.rpmyum makecachelsrpm -ivh mysql57-community-release-el7-11.noarch.rpmyum makecacheyum -y install mysql mysql-servergrep &apos;temporary password&apos; /var/log/mysqld.logmysql -uroot -pALTER USER &apos;root&apos;@&apos;localhost&apos; IDENTIFIED BY &apos;MyNewPass4!&apos;;","categories":[],"tags":[]},{"title":"post","slug":"post","date":"2017-07-21T14:51:53.000Z","updated":"2017-07-21T14:52:19.000Z","comments":true,"path":"2017/07/21/post/","link":"","permalink":"http://yoursite.com/2017/07/21/post/","excerpt":"","text":"有乱码的文件名怎么批量改… do new=${file/.txt/} # 这一步可以用sed, awk 命令替换echo “$new”echo “$file”mv “$file” “$new”done","categories":[],"tags":[]},{"title":"update_time","slug":"update-time","date":"2017-07-19T16:14:50.000Z","updated":"2017-07-19T16:15:36.000Z","comments":true,"path":"2017/07/20/update-time/","link":"","permalink":"http://yoursite.com/2017/07/20/update-time/","excerpt":"","text":"rm -f /etc/localtimeln -s /usr/share/zoneinfo/Asia/Shanghai /etc/localtime yum -y install ntpdatentpdate us.pool.ntp.orgdate","categories":[],"tags":[]},{"title":"install_python_mysql","slug":"install-python-mysql","date":"2017-07-19T16:04:15.000Z","updated":"2017-07-19T16:04:52.000Z","comments":true,"path":"2017/07/20/install-python-mysql/","link":"","permalink":"http://yoursite.com/2017/07/20/install-python-mysql/","excerpt":"","text":"yum groupinstall ‘Development Tools’yum -y install python-develpip install MySQL-python","categories":[],"tags":[]},{"title":"mysqlpassowrd","slug":"mysqlpassowrd","date":"2017-07-19T15:58:07.000Z","updated":"2017-07-19T15:59:01.000Z","comments":true,"path":"2017/07/19/mysqlpassowrd/","link":"","permalink":"http://yoursite.com/2017/07/19/mysqlpassowrd/","excerpt":"","text":"centos7.3 yum 安装 mysql-server启动后要求重置密码 mysql&gt; SET PASSWORD = PASSWORD(‘123456’); //123456 是重置的新密码","categories":[],"tags":[]},{"title":"zabbix_create","slug":"zabbix-create","date":"2017-06-26T02:22:04.000Z","updated":"2017-06-27T09:59:44.000Z","comments":true,"path":"2017/06/26/zabbix-create/","link":"","permalink":"http://yoursite.com/2017/06/26/zabbix-create/","excerpt":"","text":"123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960yum -y install mariadb*yum -y install gcc* make php php-gd php-mysql php-bcmath php-mbstring php-xml curl curl-devel net-snmp net-snmp-devel perl-DBI httpd mariadb* mysql-devel libxml2-devel unixODBC-devel net-snmp-devel OpenIPMI-devel vim telnet fpingsystemctl stop firewalld.servicesystemctl disable firewalld.service setenforce 0sed -i '/^SELINUX/s/SELINUX=.*/SELINUX=disabled/g' /etc/selinux/config# install mariadb*service mariadb restartservice mariadb status# configure mariadb mysqladmin -u root -p password moresec\\!@secmysqlrootpass=moresec\\!@secmysql -uroot -p$mysqlrootpass -e 'create database zabbix character set utf8 collate utf8_bin;'mysql -uroot -pmoresec\\!@sec -e \"create user 'zabbix'@'localhost' identified by 'zabbix';\"mysql -uroot -pmoresec\\!@sec -e \"grant all on zabbix.* to 'zabbix'@'localhost' identified by 'zabbix' with grant option\"mysql -uzabbix -pzabbix zabbix &lt; database/mysql/schema.sqlmysql -uzabbix -pzabbix zabbix &lt; database/mysql/images.sqlmysql -uzabbix -pzabbix zabbix &lt; database/mysql/data.sql# configure zabbixuseradd zabbixcd zabbix-*./configure --enable-server --enable-agent --with-mysql --with-net-snmp --with-libcurl --with-libxml2 --with-openipmi --with-unixodbcmake &amp;&amp; make install # config phpsed -i 's/date.timezone.*=.*/date.timezone = Asia\\/Shanghai/' /etc/php.inised -i 's/.*max_execution_time.*=.*/max_execution_time = 300/' /etc/php.inised -i 's/.*post_max_size.*=.*/post_max_size = 32M/' /etc/php.inised -i 's/.*memory_limit.*=.*/memory_limit = 128M/' /etc/php.inised -i 's/.*mbstring.func_overload.*=.*/mbstring.func_overload = 1/' /etc/php.inised -i 's/.*max_input_time.*=.*/max_input_time = 300/' /etc/php.inicat /etc/php.ini | grep -e 'date.timezone' -e 'max_execution_time' -e 'post_max_size' -e 'memory_limit' -e 'mbstring.func_overload' -e 'max_input_time'# deploy zabbixcp misc/init.d/fedora/core/zabbix_* /etc/init.dservice zabbix_server startservice zabbix_agentd startcp -r ./frontends/php/ /var/www/html/zabbixchown apache:apache /var/www/html/zabbix -Rservice httpd startsed -i 's/.*DBPassword.*=.*/DBPassword = zabbix/' /usr/local/etc/zabbix_server.confservice zabbix_server restart chkconfig --add zabbix_serverchkconfig zabbix_server onchkconfig --add zabbix_agentdchkconfig zabbix_agentd on","categories":[],"tags":[]},{"title":"test_title","slug":"test","date":"2017-06-24T10:21:17.000Z","updated":"2017-06-25T04:33:04.000Z","comments":true,"path":"2017/06/24/test/","link":"","permalink":"http://yoursite.com/2017/06/24/test/","excerpt":"","text":"Test~ 分割线这是一个强调内容这也是一个强调内容 有序列表 有序的列表3 有序的列表 { % codeblock [title] [lang:language] [url] [link text] % } code snippet { % endcodeblock % } 大标题二三四五 引用 Do you think it is a idea? list 早上的任务 起床 刷牙 洗脸 吃饭 下午的任务 逛街 去商场 买鞋子 买篮球鞋 买皮鞋 买xx鞋 晚上的任务 活着回家 链接，图片，文档 知乎 图片 在文章的最后提供索引地址的方法 插入本地图片和文档 图片在首页显示正常, 而在post页面显示失败, 据Hexo的作者tommy351表示, 解决的方法需要将链接换成绝对路径.用Google找了找解决方法, 发现一个可行的, npm install hexo-tag-asset-res –save打开Hexo根目录, 找到_config.yml文件, 用任何一个文本编辑器打开, 找到如下代码post_asset_folder: false将 false 改成 true 代码 12import osprint 123 123456#include&lt;unistd.h&gt;int main()&#123; write(1,\"HelloWorld!\\n\",12); return 0;&#125;","categories":[{"name":"test_category","slug":"test-category","permalink":"http://yoursite.com/categories/test-category/"}],"tags":[{"name":"test_tag","slug":"test-tag","permalink":"http://yoursite.com/tags/test-tag/"}]}]}